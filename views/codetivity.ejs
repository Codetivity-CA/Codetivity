<!DOCTYPE html>
<html ng-app='myApp'>
  <head>
    <!-- <title><%= title %></title> -->
    <title>Codetivity</title>

     <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>

    <!-- CodeMirror and its JavaScript mode file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/mode/javascript/javascript.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.css" />

    <link rel='stylesheet' href='/stylesheets/style.css' />

    <!-- clipboardjs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>

    <!-- Firepad -->
    <link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.4.0/firepad.css" />
    <script src="https://cdn.firebase.com/libs/firepad/1.4.0/firepad.min.js"></script>

    <!-- Controllers -->
    <script src="/javascripts/myApp.js"></script>
  	<script src="/javascripts/myController.js"></script>
  </head>
  <body ng-controller= 'myController' onload="startFirepad()">
    <!-- <h1> {{jsVariable}} </h1>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p> -->

    <header>
      <div style='width: 100%; height: 100%;'>
        <a href='/mainpage/index.html'>
          <img id='logo' src='/images/codetivity-logo.png' alt='codetivity logo' height='100%'/>
        </a>

        <div class='pull-right' style="height: 100%">
          <div class="btn-group" style="height: 100%">
            <button type="button" class="btn btn-default dropdown-toggle settingsButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="height: 100%">
              <span class='glyphicon glyphicon-cog settingsCog'></span>
            </button>
            <ul class="dropdown-menu" style="left: inherit; right: 0">
              <li><a href="#">Action</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="#">Separated link</a></li>
            </ul>
          </div>
        </div>

        <div class='pull-right' style="height: 100%">
          <div class="input-group linkCopy" style="width: 300px">
            <input type="text" class="form-control" id="linkHolder" placeholder="Link">
            <span class="input-group-btn">
              <button class="btn btn-default" type="button" id="copy-button" data-clipboard-target="#linkHolder"><span class='glyphicon glyphicon-copy'></span></button>
            </span>
          </div><!-- /input-group -->
        </div>

        <div class='pull-right' style="height: 100%; padding: 27px 10px 0 0">
          <span style='color: black; '><b>Share:</b></span>
        </div>
      </div>
    </header>

    <div class="mainContainer container border">
      <div class="row" style="height: 100%">
        <!-- SIDEBAR -->
        <div class="col-xs-4 border" style='padding: 0; height: 100%;'>
          <div style="width: 100%; color: white; background-color: #0288d1">Files</div>
          <div style="width: 100%">
          <button onclick="saveFile()">Download File</button><br>
          <br>You can start coding on the right or <strong>upload</strong> your files by dragging and dropping them <em>in the coding window</em>
          </div>
          <div style="width: 100%; color: white; background-color: #0288d1">Chat</div>
          <div style="width: 100%">A real-time chat with collaborators is a feature we're hard at work on.</div>
        </div>
        <!-- CODE VIEW -->
        <div class="col-xs-8 firepadDiv border">
              <div id="firepad-container"></div>
        </div>
      </div>
    </div>
    <div id="popup"></div>
    <div id="onlineMembers">+ Online Members</div>
    <div id="footer"></div>

    <!-- jQuery (for Bootstrap's JavaScript plugins) + Bootstrap -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="/javascripts/firepadInit.js"></script>
    <script >
      var onlineMembers = $("#onlineMembers");
      var popup = $("#popup");

      onlineMembers.hover(pushUp, pushDown);
      popup.hover(pushUp, pushDown)

      function pushUp(){
        onlineMembers.css("bottom", "10%");
        popup.css("height", "10%");
      }

      function pushDown(){
        onlineMembers.css("bottom", "5%");
        popup.css("height", "5%");
      }

    </script>
    
    <!-- clipboardjs copy -->
    <script>
      (function(){
        new Clipboard('#copy-button');
      })();
    </script>

  </body>
</html>
